<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>School Performance Snapshot</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: #f5f7fa;
      height: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .report-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    .page {
      background: white;
      padding: 48px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 8px;
      page-break-after: always;
    }

    /* Header Styles */
    .page-header {
      border-bottom: 3px solid #2563eb;
      padding-bottom: 24px;
      margin-bottom: 32px;
    }

    .report-title {
      font-size: 32px;
      font-weight: 700;
      color: #1e293b;
      margin: 0 0 16px 0;
    }

    .school-info {
      display: flex;
      gap: 32px;
      flex-wrap: wrap;
    }

    .info-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      color: #64748b;
    }

    .info-label {
      font-weight: 600;
      color: #475569;
    }

    /* Metrics Cards */
    .metrics-section {
      margin-bottom: 40px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 700;
      color: #1e293b;
      margin: 0 0 20px 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .metric-card {
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      padding: 24px;
      border-radius: 12px;
      border-left: 4px solid #2563eb;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .metric-label {
      font-size: 14px;
      color: #64748b;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .metric-value {
      font-size: 36px;
      font-weight: 700;
      color: #1e293b;
    }

    /* Charts */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    /* NEW: stack charts vertically inside each column */
    .chart-column-stack {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .chart-container {
      background: #ffffff;
      padding: 24px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .chart-title {
      font-size: 16px;
      font-weight: 600;
      color: #475569;
      margin-bottom: 16px;
    }

    /* Vertical Bar Chart Styles for 10 Columns */
    .vertical-chart {
      min-height: 380px;
    }

    .vertical-bar-chart {
      display: flex;
      align-items: flex-end;
      justify-content: space-between; /* Spread columns out */
      height: 330px;
      padding: 70px 5px 60px 5px;
      background: linear-gradient(to top, #f8f9fa 0%, #f8f9fa 20%, transparent 20%, transparent 40%, #f8f9fa 40%, #f8f9fa 60%, transparent 60%, transparent 80%, #f8f9fa 80%, #f8f9fa 100%);
      border-radius: 8px;
      position: relative;
    }

    .bar-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1; /* Equal space distribution */
      min-width: 25px; /* Reduced min width for 10 columns */
      position: relative;
    }

    .bar-value-label {
      font-size: 14px; /* Reduced for better fit */
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 4px;
      min-height: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }

    .bar-percentage {
      font-size: 14px; /* Reduced */
      font-weight: 700;
      color: #14b8a6;
    }

    .bar-count {
      font-size: 10px; /* Reduced */
      font-weight: 600;
      color: #64748b;
    }

    .vertical-bar-wrapper {
      width: 18px; /* Very thin bars to fit 10 columns */
      height: 200px;
      display: flex;
      align-items: flex-end;
      position: relative;
    }

    .vertical-bar {
      width: 100%;
      background: linear-gradient(180deg, #14b8a6 0%, #0d9488 100%);
      border-radius: 8px 8px 0 0;
      transition: all 0.4s ease;
      box-shadow: 0 2px 4px rgba(20, 184, 166, 0.3);
    }
    /* Specific color for Math */
    .math-bar {
      background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
    }
    /* Specific color for Science */
    .science-bar {
      background: linear-gradient(180deg, #f59e0b 0%, #d97706 100%);
      box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
    }

    .vertical-bar:hover {
      background: linear-gradient(180deg, #0d9488 0%, #0f766e 100%);
      transform: translateY(-4px);
      box-shadow: 0 4px 8px rgba(20, 184, 166, 0.4);
    }

    .bar-category-label {
      font-size: 9px; /* Small font for 10 labels */
      font-weight: 600;
      color: #64748b;
      text-align: center;
      margin-top: 8px;
      line-height: 1.2;
      position: absolute;
      bottom: -40px; /* Adjusted position */
      width: 140%;
      left: -20%;
      white-space: normal; /* Allow wrapping */
      word-break: break-word;
    }

    /* Highlights Section */
    .highlights-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .highlight-box {
      padding: 24px;
      border-radius: 12px;
      border: 2px solid;
    }

    .highlight-box.strengths {
      background: #f0fdf4;
      border-color: #10b981;
    }

    .highlight-box.remediation {
      background: #fef2f2;
      border-color: #ef4444;
    }

    .highlight-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .highlight-title.strengths { color: #059669; }
    .highlight-title.remediation { color: #dc2626; }

    .highlight-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .highlight-list li {
      padding: 10px 12px;
      margin-bottom: 8px;
      border-radius: 6px;
      font-size: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .highlight-list.strengths li {
      background: white;
      color: #065f46;
      border-left: 3px solid #10b981;
    }

    .highlight-list.remediation li {
      background: white;
      color: #991b1b;
      border-left: 3px solid #ef4444;
    }

    /* Page 2 Styles */
    .excel-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-bottom: 32px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      overflow-x: auto;
      display: block;
    }
    
    @media (min-width: 768px) {
        .excel-table { display: table; }
    }

    .excel-table th {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      padding: 16px 12px;
      text-align: center;
      font-weight: 700;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border: none;
      position: relative;
    }

    .excel-table th:first-child {
      border-top-left-radius: 12px;
    }

    .excel-table th:last-child {
      border-top-right-radius: 12px;
    }

    .excel-table td {
      padding: 14px 12px;
      border: none;
      font-size: 15px;
      font-weight: 500;
      text-align: center;
      background: white;
      color: #1e293b;
      border-bottom: 1px solid #e5e7eb;
    }

    .excel-table td:first-child {
      font-weight: 700;
      text-align: left;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: #1e40af;
      font-size: 16px;
      padding-left: 20px;
    }

    .excel-table tbody tr {
      transition: all 0.3s ease;
    }

    .excel-table tbody tr:hover {
      background: #f0f9ff;
      transform: scale(1.01);
      box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
    }

    .excel-table tbody tr:last-child td {
      border-bottom: none;
    }

    .excel-table tbody tr:last-child td:first-child {
      border-bottom-left-radius: 12px;
    }

    .excel-table tbody tr:last-child td:last-child {
      border-bottom-right-radius: 12px;
    }

    /* Segmentation Cards */
    .segmentation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .segment-card {
      padding: 24px;
      border-radius: 12px;
      border: 2px solid;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .segment-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .segment-card.high {
      background: #d1fae5;
      border-color: #10b981;
    }

    .segment-card.track {
      background: #fef3c7;
      border-color: #f59e0b;
    }

    .segment-card.support {
      background: #fee2e2;
      border-color: #ef4444;
    }

    .segment-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .segment-label {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .segment-card.high .segment-label { color: #065f46; }
    .segment-card.track .segment-label { color: #92400e; }
    .segment-card.support .segment-label { color: #991b1b; }

    /* New Criteria Style */
    .segment-criteria {
      font-size: 14px;
      font-style: italic;
      margin-bottom: 12px;
      font-weight: 600;
    }
    .segment-card.high .segment-criteria { color: #047857; }
    .segment-card.track .segment-criteria { color: #b45309; }
    .segment-card.support .segment-criteria { color: #b91c1c; }

    .segment-description {
      font-size: 15px;
      line-height: 1.5;
    }

    .segment-card.high .segment-description { color: #047857; }
    .segment-card.track .segment-description { color: #b45309; }
    .segment-card.support .segment-description { color: #b91c1c; }

    .segment-note {
      margin-top: 8px;
      font-size: 13px;
      font-style: italic;
      opacity: 0.8;
    }

    /* Teacher Dashboard */
    .teacher-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .teacher-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .teacher-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 2px solid #e2e8f0;
    }

    .grade-label {
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
    }

    .focus-badge {
      background: #dbeafe;
      color: #1e40af;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .focus-areas {
      margin-bottom: 12px;
    }

    .focus-title {
      font-size: 13px;
      font-weight: 600;
      color: #64748b;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .focus-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .focus-list li {
      padding: 6px 0;
      font-size: 14px;
      color: #475569;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .focus-list li:before {
      content: "‚Ä¢";
      color: #3b82f6;
      font-weight: 700;
    }

    .reflection-prompt {
      background: #f8fafc;
      padding: 12px;
      border-radius: 8px;
      font-size: 13px;
      color: #475569;
      font-style: italic;
      border-left: 3px solid #3b82f6;
      margin-top: 12px;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .modal-overlay.active {
      display: flex;
      opacity: 1;
    }
    .modal-content {
      background: white;
      padding: 32px;
      border-radius: 12px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }
    .modal-overlay.active .modal-content {
      transform: translateY(0);
    }
    .modal-header {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #1e293b;
    }
    .modal-body {
      font-size: 16px;
      color: #475569;
      line-height: 1.6;
      margin-bottom: 24px;
    }
    .modal-close {
      background: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      float: right;
    }
    .modal-close:hover {
      background: #1d4ed8;
    }

    /* Print Styles */
    @media print {
      body {
        background: white;
      }
      .report-container {
        padding: 0;
      }
      .page {
        box-shadow: none;
        page-break-after: always;
        margin-bottom: 0;
      }
      .modal-overlay {
        display: none !important;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="report-container">
   <!-- PAGE 1: SCHOOL OVERVIEW -->
   <div class="page" id="page1">
    <div class="page-header">
     <h1 class="report-title" id="reportTitle">School Performance Snapshot for Principals</h1>
     <div class="school-info">
      <div class="info-item"><span class="info-label">üè´ School:</span> <span id="schoolName">Oakwood Elementary</span></div>
      <div class="info-item"><span class="info-label">üìö Grades:</span> <span id="gradeCoverage">Grades 1-8</span></div>
      <div class="info-item"><span class="info-label">üë• Total Registered:</span> <span id="totalStudents">2118</span></div>
      <!-- NEW ITEM -->
      <div class="info-item"><span class="info-label">üë• Total Participated:</span> <span>1379</span></div>
     </div>
    </div>

    <!-- Key Metrics Cards (Separate Section) -->
    <div class="metrics-section">
     <h2 class="section-title">üìä Key Metrics</h2>
     <div class="metrics-grid">
      <div class="metric-card">
       <div class="metric-label">Math Average</div>
       <div class="metric-value">72%</div>
      </div>
      <div class="metric-card">
       <div class="metric-label">English Average</div>
       <div class="metric-value">68%</div>
      </div>
      <div class="metric-card">
       <div class="metric-label">Science Average</div>
       <div class="metric-value">75%</div>
      </div>
     </div>
    </div>

    <!-- Student Segmentation (Moved here, between Metrics and Graphs) -->
    <div class="metrics-section">
     <h2 class="section-title">üéØ Student Segmentation</h2>
     <div class="segmentation-grid">
      <div class="segment-card high" onclick="showSegmentDetails('high')">
       <div class="segment-icon">üåü</div>
       <div class="segment-label">High Performers</div>
       <!-- Added Criteria -->
       <div class="segment-criteria">(‚â• 85% Score)</div>
       <div class="segment-description"><strong>35% of students</strong><br></div>
       <div class="segment-note">Provide enrichment activities</div>
      </div>
      <div class="segment-card track" onclick="showSegmentDetails('track')">
       <div class="segment-icon">üìä</div>
       <div class="segment-label">On Track</div>
       <!-- Added Criteria -->
       <div class="segment-criteria">(50% ‚Äì 84% Score)</div>
       <div class="segment-description"><strong>40% of students</strong><br></div>
       <div class="segment-note">Maintain current support</div>
      </div>
      <div class="segment-card support" onclick="showSegmentDetails('support')">
       <div class="segment-icon">üÜò</div>
       <div class="segment-label">Needs Support</div>
       <!-- Added Criteria -->
       <div class="segment-criteria">(0% ‚Äì 49% Score)</div>
       <div class="segment-description"><strong>25% of students</strong><br></div>
       <div class="segment-note">Requires targeted intervention</div>
      </div>
     </div>
     <p style="text-align: center; color: #64748b; font-size: 14px; font-style: italic; margin-top: 16px;">
      üí° In digital view, click/hover to see individual student profiles
     </p>
    </div>

    <!-- Graphs / Charts (Moved here) -->
    <div class="metrics-section">
     <!-- UPDATED CHARTS GRID -->
     <div class="charts-grid">
      <!-- LEFT COLUMN: ENGLISH AND SCIENCE (10-COLUMN GAP) -->
      <div class="chart-column-stack">
       
       <!-- 1. English ‚Äì Gap to Grade Level (10 COLUMNS) -->
       <div class="chart-container vertical-chart">
        <div class="chart-title">English ‚Äì Gap to Grade Level (10 Columns)</div>
        <div class="vertical-bar-chart">
         <!-- Data is based on percentages of the highest column (55% = 100%) -->

         <!-- At Grade Level (55%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">55%</span>
           <span class="bar-count">(1100)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 100%"></div>
          </div>
          <div class="bar-category-label">At Grade Level</div>
         </div>
         <!-- 1 Year Below (15%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">15%</span>
           <span class="bar-count">(300)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 27.3%"></div>
          </div>
          <div class="bar-category-label">1 Year Below</div>
         </div>
         <!-- 2 Years Below (10%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">10%</span>
           <span class="bar-count">(200)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 18.2%"></div>
          </div>
          <div class="bar-category-label">2 Years Below</div>
         </div>
         <!-- 3 Years Below (6%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">6%</span>
           <span class="bar-count">(120)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 10.9%"></div>
          </div>
          <div class="bar-category-label">3 Years Below</div>
         </div>
         <!-- 4 Years Below (4%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">4%</span>
           <span class="bar-count">(80)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 7.3%"></div>
          </div>
          <div class="bar-category-label">4 Years Below</div>
         </div>
         <!-- 5 Years Below (3%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">3%</span>
           <span class="bar-count">(60)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 5.5%"></div>
          </div>
          <div class="bar-category-label">5 Years Below</div>
         </div>
         <!-- 6 Years Below (3%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">3%</span>
           <span class="bar-count">(60)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 5.5%"></div>
          </div>
          <div class="bar-category-label">6 Years Below</div>
         </div>
         <!-- 7 Years Below (2%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">2%</span>
           <span class="bar-count">(40)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 3.6%"></div>
          </div>
          <div class="bar-category-label">7 Years Below</div>
         </div>
         <!-- 8 Years Below (1%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">1%</span>
           <span class="bar-count">(20)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 1.8%"></div>
          </div>
          <div class="bar-category-label">8 Years Below</div>
         </div>
         <!-- 9 Years Below (1%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage">1%</span>
           <span class="bar-count">(20)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar" style="height: 1.8%"></div>
          </div>
          <div class="bar-category-label">9 Years Below</div>
         </div>
        </div>
       </div>

       <!-- 3. NEW: Science ‚Äì Gap to Grade Level (10 COLUMNS) -->
       <div class="chart-container vertical-chart">
        <div class="chart-title">Science ‚Äì Gap to Grade Level (10 Columns)</div>
        <div class="vertical-bar-chart">
         <!-- Data is based on percentages of the highest column (70% = 100%) -->

         <!-- At Grade Level (70%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">70%</span>
           <span class="bar-count">(1400)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 100%"></div>
          </div>
          <div class="bar-category-label">At Grade Level</div>
         </div>
         <!-- 1 Year Below (10%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">10%</span>
           <span class="bar-count">(200)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 14.3%"></div>
          </div>
          <div class="bar-category-label">1 Year Below</div>
         </div>
         <!-- 2 Years Below (8%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">8%</span>
           <span class="bar-count">(160)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 11.4%"></div>
          </div>
          <div class="bar-category-label">2 Years Below</div>
         </div>
         <!-- 3 Years Below (5%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">5%</span>
           <span class="bar-count">(100)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 7.1%"></div>
          </div>
          <div class="bar-category-label">3 Years Below</div>
         </div>
         <!-- 4 Years Below (3%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">3%</span>
           <span class="bar-count">(60)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 4.3%"></div>
          </div>
          <div class="bar-category-label">4 Years Below</div>
         </div>
         <!-- 5 Years Below (2%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">2%</span>
           <span class="bar-count">(40)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 2.9%"></div>
          </div>
          <div class="bar-category-label">5 Years Below</div>
         </div>
         <!-- 6 Years Below (1%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">1%</span>
           <span class="bar-count">(20)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 1.4%"></div>
          </div>
          <div class="bar-category-label">6 Years Below</div>
         </div>
         <!-- 7 Years Below (0.5%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">0.5%</span>
           <span class="bar-count">(10)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 0.7%"></div>
          </div>
          <div class="bar-category-label">7 Years Below</div>
         </div>
         <!-- 8 Years Below (0.25%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">0.25%</span>
           <span class="bar-count">(5)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 0.35%"></div>
          </div>
          <div class="bar-category-label">8 Years Below</div>
         </div>
         <!-- 9 Years Below (0.25%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-yellow-600">0.25%</span>
           <span class="bar-count">(5)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar science-bar" style="height: 0.35%"></div>
          </div>
          <div class="bar-category-label">9 Years Below</div>
         </div>
        </div>
       </div>
      </div>

      <!-- RIGHT COLUMN: MATH AND BLANK CONTAINER -->
      <div class="chart-column-stack">
       <!-- 2. Math ‚Äì Gap to Grade Level (10 COLUMNS) -->
       <div class="chart-container vertical-chart">
        <div class="chart-title">Math ‚Äì Gap to Grade Level (10 Columns)</div>
        <div class="vertical-bar-chart">
         <!-- Data is based on percentages of the highest column (65% = 100%) -->

         <!-- At Grade Level (65%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">65%</span>
           <span class="bar-count">(1300)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 100%"></div>
          </div>
          <div class="bar-category-label">At Grade Level</div>
         </div>
         <!-- 1 Year Below (12%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">12%</span>
           <span class="bar-count">(240)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 18.5%"></div>
          </div>
          <div class="bar-category-label">1 Year Below</div>
         </div>
         <!-- 2 Years Below (10%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">10%</span>
           <span class="bar-count">(200)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 15.4%"></div>
          </div>
          <div class="bar-category-label">2 Years Below</div>
         </div>
         <!-- 3 Years Below (5%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">5%</span>
           <span class="bar-count">(100)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 7.7%"></div>
          </div>
          <div class="bar-category-label">3 Years Below</div>
         </div>
         <!-- 4 Years Below (3%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">3%</span>
           <span class="bar-count">(60)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 4.6%"></div>
          </div>
          <div class="bar-category-label">4 Years Below</div>
         </div>
         <!-- 5 Years Below (2%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">2%</span>
           <span class="bar-count">(40)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 3.1%"></div>
          </div>
          <div class="bar-category-label">5 Years Below</div>
         </div>
         <!-- 6 Years Below (1.5%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">1.5%</span>
           <span class="bar-count">(30)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 2.3%"></div>
          </div>
          <div class="bar-category-label">6 Years Below</div>
         </div>
         <!-- 7 Years Below (0.5%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">0.5%</span>
           <span class="bar-count">(10)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 0.8%"></div>
          </div>
          <div class="bar-category-label">7 Years Below</div>
         </div>
         <!-- 8 Years Below (0.25%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">0.25%</span>
           <span class="bar-count">(5)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 0.4%"></div>
          </div>
          <div class="bar-category-label">8 Years Below</div>
         </div>
         <!-- 9 Years Below (0.25%) -->
         <div class="bar-column">
          <div class="bar-value-label">
           <span class="bar-percentage text-blue-600">0.25%</span>
           <span class="bar-count">(5)</span>
          </div>
          <div class="vertical-bar-wrapper">
           <div class="vertical-bar math-bar" style="height: 0.4%"></div>
          </div>
          <div class="bar-category-label">9 Years Below</div>
         </div>
        </div>
       </div>

       <!-- 4. Level Distribution Logic (LIGHT THEME MATCHING REPORT) -->
       <div class="chart-container vertical-chart flex flex-col justify-between">
        <div>
          <!-- Header -->
          <div class="flex items-center gap-2 mb-3">
            <span class="text-xl">‚úÖ</span>
            <h3 class="chart-title mb-0" style="margin-bottom: 0;">Level Distribution Logic</h3>
          </div>
          <p class="text-slate-500 text-sm mb-6 leading-relaxed">
            For every <strong>grade</strong>, the system checks how high the student can successfully answer questions from <strong>lower grade levels</strong>.
          </p>

          <!-- Rule -->
          <div class="mb-6 bg-blue-50 p-4 rounded-lg border border-blue-100">
            <div class="flex items-center gap-2 mb-2">
              <span class="text-blue-600 text-lg">üìò</span>
              <span class="font-bold uppercase tracking-wide text-xs text-blue-800">RULE</span>
            </div>
            <p class="text-sm text-slate-700 italic">
              A student‚Äôs <strong>performance level</strong> is determined by the <span class="text-blue-700 font-semibold">highest grade-level questions they can pass</span>.
            </p>
          </div>

          <!-- Example Header -->
          <p class="text-sm mb-4 text-slate-600 font-medium">Example: <strong>5th-grade student</strong></p>
        </div>

        <!-- Table -->
        <div class="overflow-x-auto w-full">
          <table class="w-full text-sm text-left border-collapse">
            <thead>
              <tr class="bg-slate-50 border-b border-slate-200 text-slate-500 uppercase text-xs">
                <th class="py-3 px-4 font-bold text-left">Questions Passed</th>
                <th class="py-3 px-4 font-bold text-center">Assigned Level</th>
                <th class="py-3 px-4 font-bold text-left">Meaning</th>
              </tr>
            </thead>
            <tbody class="text-slate-600">
              <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                <td class="py-3 px-4 font-medium">Grade 4 questions</td>
                <td class="py-3 px-4 text-center font-bold text-emerald-600">Level 5</td>
                <td class="py-3 px-4 text-emerald-700 font-medium">At Grade Level</td>
              </tr>
              <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                <td class="py-3 px-4">Grade 3 questions</td>
                <td class="py-3 px-4 text-center font-bold text-slate-700">Level 4</td>
                <td class="py-3 px-4 text-amber-600">1 Year Below</td>
              </tr>
              <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                <td class="py-3 px-4">Grade 2 questions</td>
                <td class="py-3 px-4 text-center font-bold text-slate-700">Level 3</td>
                <td class="py-3 px-4 text-amber-600">2 Years Below</td>
              </tr>
              <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                <td class="py-3 px-4">Grade 1 questions</td>
                <td class="py-3 px-4 text-center font-bold text-slate-700">Level 2</td>
                <td class="py-3 px-4 text-orange-600">3 Years Below</td>
              </tr>
              <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                <td class="py-3 px-4">Grade 0 (foundational)</td>
                <td class="py-3 px-4 text-center font-bold text-slate-700">Level 1</td>
                <td class="py-3 px-4 text-red-600">4 Years Below</td>
              </tr>
              <tr class="hover:bg-red-50 transition-colors bg-red-50/30">
                <td class="py-3 px-4 text-red-700 font-medium">Fails all levels</td>
                <td class="py-3 px-4 text-center font-bold text-red-700">Level 0</td>
                <td class="py-3 px-4 text-red-700 font-medium">Cannot demonstrate skills</td>
              </tr>
            </tbody>
          </table>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Performance Highlights -->
    <div class="metrics-section">
     <h2 class="section-title">‚ú® Performance Highlights</h2>
     <div class="highlights-grid">
      <div class="highlight-box strengths">
       <div class="highlight-title strengths">‚úì Top 3 Strengths</div>
       <ul class="highlight-list strengths">
        <li>Number recognition and counting</li>
        <li>Oral vocabulary development</li>
        <li>Basic arithmetic operations</li>
       </ul>
      </div>
      <div class="highlight-box remediation">
       <div class="highlight-title remediation">‚ö† Top 3 Areas Needing Support</div>
       <ul class="highlight-list remediation">
        <li>Sentence reading fluency</li>
        <li>Division and fractions</li>
        <li>Multi-step word problems</li>
       </ul>
      </div>
     </div>
    </div>

    <!-- Grade Performance -->
    <div class="metrics-section">
     <h2 class="section-title">üìä Maths ‚Äì Grade-wise Proficiency level</h2>
     <div class="overflow-x-auto">
         <table class="excel-table">
         <thead>
          <tr>
           <th>Grade</th>
           <th>Level 0</th>
           <th>Level 1</th>
           <th>Level 2</th>
           <th>Level 3</th>
           <th>Level 4</th>
           <th>Level 5</th>
           <th>Level 6</th>
           <th>Level 7</th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td>Grade 1</td>
           <td>29</td>
           <td>31</td>
           <td>14</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 2</td>
           <td>23</td>
           <td>48</td>
           <td>12</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 3</td>
           <td>159</td>
           <td>70</td>
           <td>176</td>
           <td>96</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 4</td>
           <td>327</td>
           <td>-</td>
           <td>169</td>
           <td>10</td>
           <td>42</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 5</td>
           <td>233</td>
           <td>-</td>
           <td>146</td>
           <td>131</td>
           <td>70</td>
           <td>14</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 6</td>
           <td>100</td>
           <td>-</td>
           <td>-</td>
           <td>52</td>
           <td>23</td>
           <td>26</td>
           <td>9</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 7</td>
           <td>64</td>
           <td>-</td>
           <td>-</td>
           <td>40</td>
           <td>8</td>
           <td>5</td>
           <td>7</td>
           <td>66</td>
          </tr>
          <!-- New Grades Added -->
          <tr>
           <td>Grade 8</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 9</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 10</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
         </tbody>
        </table>
     </div>
    </div>
   </div>

   <!-- PAGE 2: ACTIONABLE INSIGHTS -->
   <div class="page" id="page2">
    <div class="page-header">
     <h1 class="report-title">Actionable Insights &amp; Next Steps</h1>
    </div>

    <!-- Grade-wise Proficiency Table -->
    <div class="metrics-section">
     <h2 class="section-title">üìä Maths ‚Äì Grade-wise Proficiency Table (Excel Format)</h2>
     <div class="overflow-x-auto">
         <table class="excel-table">
         <thead>
          <tr>
           <th>Grade</th>
           <th>Level 0</th>
           <th>Level 1</th>
           <th>Level 2</th>
           <th>Level 3</th>
           <th>Level 4</th>
           <th>Level 5</th>
           <th>Level 6</th>
           <th>Level 7</th>
          </tr>
         </thead>
         <tbody>
          <tr>
           <td>Grade 1</td>
           <td>29</td>
           <td>31</td>
           <td>14</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 2</td>
           <td>23</td>
           <td>48</td>
           <td>12</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 3</td>
           <td>159</td>
           <td>70</td>
           <td>176</td>
           <td>96</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 4</td>
           <td>327</td>
           <td>-</td>
           <td>169</td>
           <td>10</td>
           <td>42</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 5</td>
           <td>233</td>
           <td>-</td>
           <td>146</td>
           <td>131</td>
           <td>70</td>
           <td>14</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 6</td>
           <td>100</td>
           <td>-</td>
           <td>-</td>
           <td>52</td>
           <td>23</td>
           <td>26</td>
           <td>9</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 7</td>
           <td>64</td>
           <td>-</td>
           <td>-</td>
           <td>40</td>
           <td>8</td>
           <td>5</td>
           <td>7</td>
           <td>66</td>
          </tr>
          <!-- New Grades Added -->
          <tr>
           <td>Grade 8</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 9</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
          <tr>
           <td>Grade 10</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
           <td>-</td>
          </tr>
         </tbody>
        </table>
     </div>
    </div>

    <!-- Teacher Dashboard -->
    <div class="metrics-section">
     <h2 class="section-title">üë©‚Äçüè´ Teacher Dashboard ‚Äì Focus Areas</h2>
     <div class="teacher-grid">
      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 1</div>
        <div class="focus-badge">Foundation</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Number sense (1-20)</li>
         <li>Basic shapes and patterns</li>
         <li>Simple addition and subtraction</li>
         <li>Counting by 2s, 5s, and 10s</li>
         <li>Comparing numbers (greater/less than)</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "How can we strengthen foundational maths skills?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 2</div>
        <div class="focus-badge">Building</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Place value understanding</li>
         <li>Simple word problems</li>
         <li>Two-digit addition with regrouping</li>
         <li>Skip counting patterns</li>
         <li>Understanding equal groups</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "Are students mastering place value concepts?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 3</div>
        <div class="focus-badge">Critical</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Multiplication tables (up to 10)</li>
         <li>Multi-step word problems</li>
         <li>Introduction to division concepts</li>
         <li>Understanding fractions (halves, thirds, fourths)</li>
         <li>Measurement and data interpretation</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "What strategies boost multiplication fluency?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 4</div>
        <div class="focus-badge">Developing</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Long division practice</li>
         <li>Fraction concepts and equivalence</li>
         <li>Multi-digit multiplication</li>
         <li>Decimal place value</li>
         <li>Area and perimeter calculations</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "How can we build division confidence?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 5</div>
        <div class="focus-badge">Priority</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Fractions and decimals operations</li>
         <li>Algebraic thinking and expressions</li>
         <li>Volume and measurement conversions</li>
         <li>Order of operations (PEMDAS)</li>
         <li>Coordinate plane graphing</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "How can we bridge the Grade 5 maths gap?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 6</div>
        <div class="focus-badge">Advancing</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Ratios and percentages</li>
         <li>Geometry fundamentals (angles, triangles)</li>
         <li>Negative numbers and integers</li>
         <li>One-step equation solving</li>
         <li>Statistical measures (mean, median, mode)</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "Are students ready for abstract concepts?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 7</div>
        <div class="focus-badge">Transition</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Pre-algebra concepts and equations</li>
         <li>Data analysis and probability</li>
         <li>Proportional relationships</li>
         <li>Scale factor and similar figures</li>
         <li>Operations with rational numbers</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "How do we prepare for high school maths?"
       </div>
      </div>

      <div class="teacher-card">
       <div class="teacher-card-header">
        <div class="grade-label">Grade 8</div>
        <div class="focus-badge">High School Prep</div>
       </div>
       <div class="focus-areas">
        <div class="focus-title">Remediation Focus</div>
        <ul class="focus-list">
         <li>Linear equations and functions</li>
         <li>Scientific notation and exponents</li>
         <li>Pythagorean theorem</li>
         <li>Systems of equations</li>
         <li>Scatter plots and data trends</li>
        </ul>
       </div>
       <div class="reflection-prompt">
        "Are students prepared for Algebra I rigor?"
       </div>
      </div>

     </div>
    </div>
   </div>
  </div>

  <!-- Custom Modal Overlay -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
    <div class="modal-content">
      <div class="modal-header" id="modalHeader">Title</div>
      <div class="modal-body" id="modalBody">Message</div>
      <button class="modal-close" onclick="closeModal(event)">Close</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      console.log('School Performance Report Loaded');
      
      // Animate bars on load
      const bars = document.querySelectorAll('.vertical-bar');
      bars.forEach(bar => {
        const targetHeight = bar.style.height;
        bar.style.height = '0%';
        setTimeout(() => {
          bar.style.height = targetHeight;
        }, 300);
      });
    });

    function showSegmentDetails(segment) {
      const titles = {
        'high': 'üåü High Performers',
        'track': 'üìä On Track',
        'support': 'üÜò Needs Support'
      };
      
      const messages = {
        'high': '158 students identified. Recommended actions: Advanced placement consideration, Peer tutoring roles.',
        'track': '180 students identified. Recommended actions: Maintenance of current curriculum, Regular check-ins.',
        'support': '112 students identified. Recommended actions: Mandatory after-school tutoring, Individualized Education Plan review.'
      };

      const overlay = document.getElementById('modalOverlay');
      const header = document.getElementById('modalHeader');
      const body = document.getElementById('modalBody');

      if(overlay && header && body) {
        header.textContent = titles[segment] || 'Details';
        body.textContent = messages[segment] || 'Student details not available.';
        overlay.classList.add('active');
      }
    }

    function closeModal(event) {
      if (event.target.id === 'modalOverlay' || event.target.classList.contains('modal-close')) {
         const overlay = document.getElementById('modalOverlay');
         if (overlay) overlay.classList.remove('active');
      }
    }
  </script>
 </body>
</html>